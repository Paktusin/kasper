<loader load="$ctrl.isLoading"></loader>
<div class="book-edit" ng-if="$ctrl.book">
    <form name="form" class=" mb-2" novalidate>
        <div class="form-group">
            <label>Заголовок</label>
            <input
                    class="form-control"
                    required
                    type="text"
                    minlength="2"
                    maxlength="5"
                    name="title"
                    ng-model="$ctrl.book.title">
            <span class="invalid-feedback" ng-show="form.title.$error.maxlength">
            Заголовок должен быть не более 30 символов
        </span>
            <span class="invalid-feedback" ng-show="form.title.$error.required">
            Заголовок должен быть заполнен
        </span>
        </div>
        <div class="form-group">
            <label>Количество страниц</label>
            <input class="form-control"
                   required
                   type="number"
                   min="1"
                   max="10000"
                   name="pages"
                   ng-model="$ctrl.book.pages">
            <span class="invalid-feedback" ng-show="form.pages.$error.min || form.pages.$error.max">
            Количество страниц должно быть больше 0 и не более 10000
        </span>
            <span class="invalid-feedback" ng-show="form.pages.$error.required">
            Количество страниц должно быть заполнено
        </span>
        </div>
        <div class="form-group">
            <label>Название издательства</label>
            <input class="form-control"
                   type="text"
                   maxlength="30"
                   name="publisher"
                   ng-model="$ctrl.book.publisher">
            <span class="invalid-feedback" ng-show="form.publisher.$error.maxlength">
                Название издательства должно быть не более 30 символов
            </span>
        </div>
        <div class="form-group">
            <label>Год публикации</label>
            <input class="form-control"
                   type="number"
                   min="1800"
                   name="publisher"
                   ng-model="$ctrl.book.publish_year">
            <span class="invalid-feedback" ng-show="form.publish_year.$error.maxlength">
                Год публикации должен быть не раньше 1800
            </span>
        </div>
    </form>
    <button type="button" class="btn btn-primary" ng-click="$ctrl.save(form)">Сохранить</button>
</div>